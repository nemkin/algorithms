<html>
<head><title>A. Maze Escape</title></head>
<body>
<div align="justify">

<h2>A. Maze Escape</h2>

<table width=100% border=0 cellpadding=0 cellspacing=0>
<tr><td align="justify">

<p>
For this problem, you'd have to tap into the character of Eesteciana Jones (pun intended), a very well known adventurer. He managed to get himself stuck into a maze that contains something very valuable to him - diamonds. Just to make things a bit spookier, he has limited time to get out of the maze: there is lava right behind him that is definitely going to kill him if he isn't too careful. The maze is also complex, meaning there are walls at some points in it. Eesteciana has to avoid them as they would certainly mean his doom since he won't be able to run away from the lava in time if he reaches a wall. However, being as greedy as he is, he also wants to grab the maximum amount of diamonds before he gets out of the maze.</p>

<p>Also, let's talk a bit more about the maze. It itself is kind of self explanatory - since it contains diamonds its shape also resembles a diamond.</p>
</table>


<p>For example, a maze of size 3 would look like this:</p>
<pre>
        2;0
    1;0     3;0
0;0     2;1     4;0
    1;1     3;1
        2;2
</pre>


<p>
A maze of size  5 on the other hand would look like this:</p>

<pre>
                4;0
            3;0     5;0
        2;0     4;1     6;0
    1;0     3;1     5;1     7;0
0;0     2;1     4;2     6;1     8;0
    1;1     3;2     5;2     7;1
        2;2     4;3     6;2
            3;3     5;3
                4;4
</pre>

<p>
As you may observe, each column of the maze is enumerated with the numbers from 0 to 2 * (size - 1). The size itself represents the maximum length of a column, as we can see in the second case it's the 4th column and has exactly 5 blocks on which Eesteciana can step on. He always starts at 0;0 (that's the entry point) and the exit is at 8;0. He can also only move to adjacent blocks that make him escape the lava - for example if he's on block 1;0 he may move to block 2;0 or 2;1, but not to the block 1;1 or back to 0;0 since the lava would catch up to him. If there is a wall on a certain block he may not move to that particular block.</p>

<p>You will also be given an array of strings representing the positions the diamonds as well as an array of strings representing the positions of the walls (their indices will correlate to the ones represented on the diamond like map). So your task is to provide the maximum number of diamonds Eesteciana can get AND get out alive or just return "-1" if he'd die horribly anyway.</p>

<p>Note: The wall blocks will be given in an interval to avoid writing too many strings. </p>

<p>Example:</p>
<p>Let us assume that the size of the maze is 3 and that there is a diamond on 2;0. There is also a wall on 2;1.</p>

<p>The most optimal solution for this example would be to go to the blocks as follows:</p>
<pre>0;0 -> 1;0 -> 2;0 -> 3;0 -> 4;0</pre>
<p>This will both let you escape without hitting any walls, and getting the only diamond that the maze has (on 2;0). This means that the solution to this problem is going to be 1. </p>

<h3>Input</h3>

<p>The first line of input contains an integer M (3 &le; M &le; 101) which is guaranteed to be an odd number.</p>
<p>The next line will contain an integer D (1 &le; D &le; 50) representing the number of diamonds.</p>
<p>The following D lines will contain strings formatted as "x;y" and each string will represent the coordinates of the given diamond according to the maze notation we mentioned earlier. It is guaranteed that each of the strings is going to be unique.</p>
<p>The next line will contain an integer W (1 &le; W &le; 50) representing the number of walls in the maze.</p>
<p>The next W lines will contain strings representing each walls, formatted as "x;y;z". This means that there is a wall on the xth column on the indices from y to z (inclusive). It is guaranteed that no walla overlap. </p>

<h3>Output</h3>

Output the most diamonds Eesteciana can get while still being able to survive the maze, or output -1 if there is no way for him to escape the lava and his imminent death.

<table width=100% border=0 cellpadding=0 cellspacing=0>
<tr>
<td valign=top><h3>Example input</h3>
<pre>
11
9
14;3
8;1
11;9
13;5
6;5
13;7
13;1
5;4
10;3
3
11;6;6
2;1;1
6;1;2
</pre>

<td valign=top><h3>Example output</h3>
<pre>
4
</pre>

</table>

</div>
</body>
</html>
